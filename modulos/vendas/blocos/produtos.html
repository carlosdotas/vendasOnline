<style type="text/css">
	#codigo{
		background: #77A7FF;
		color: #fff;
		width: 100%;
		text-align: center;
		font-size: 20px;
		height: 50px;
		font-family: Arial Black;
	}
</style>

<div class="easyui-layout" fit="true">
    <div data-options="region:'north',split:true" style="height:70px;padding: 5px;background-color: #ddd">
    	<input name="codigo" id="codigo" autocomplete="off" placeholder="BURCAR / PREÇO [F2]">
    </div>
    <div data-options="region:'center',title:'PRODUTOS'" >
    	<div id="listaProdutos" ></div>
    </div>
</div>








<script type="text/javascript">

	$('#listaProdutos').datalist({
		fit:"true",
		border:0,
		pageSize:"10",
		lines:true,
		url:"server.php?json=produtos",
		pagination:true,
		textFormatter:function(value,row){
			return `
			<div class='row' style='padding:5px;'>
				<div class='col-2 text-center'>
					<img src='`+row.imgsSelected+`' >
				</div>
				<div class='col-10' style:'width: 250px'>
					<b style='font-size:14px'>`+row.produto.toUpperCase() +`</b><br>
					Preço: <b style='font-size:14px;color:red'>R$ `+((row.preco-0).toFixed(2))+`</b><br>
					Codigo: <b style='font-size:10px;'>`+row.cod+`</b><br>

				</div>							
			</div>`;
		}

	});


	var timeout = null;
	$('#codigo').keyup(function() {
		clearTimeout(timeout);
		timeout = setTimeout(() => {

			$('#listaProdutos').datalist({
				url:'server.php?json=produtos&produto='+$("#codigo").val(),
				onLoadSuccess:function(){
					$('#listaProdutos').datalist('selectRow',0);	
				}
			});


		}, 400);
	});

</script>